<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:ClipMate.Avalonia.ViewModels"
    x:Class="ClipMate.Avalonia.Views.SettingsWindow"
    Title="设置"
    Width="520"
    Height="680"
    MinWidth="420"
    MinHeight="520"
    WindowStartupLocation="CenterOwner">
  <ScrollViewer>
    <StackPanel Margin="16" Spacing="16">
      <TextBlock FontSize="18" FontWeight="Bold" Text="设置" />

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="快捷键" />
          <StackPanel Orientation="Horizontal" Spacing="8">
            <TextBlock Text="主窗口" Width="80" />
            <TextBlock Text="{Binding CurrentHotKey}" Width="200" />
            <Button Content="录制" Command="{Binding RecordHotKeyCommand}" />
          </StackPanel>
          <StackPanel Orientation="Horizontal" Spacing="8">
            <TextBlock Text="收藏筛选" Width="80" />
            <TextBlock Text="{Binding FavoriteFilterHotKey}" Width="200" />
            <Button Content="录制" Command="{Binding RecordFavoriteFilterHotKeyCommand}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="主题" />
          <StackPanel Orientation="Horizontal" Spacing="12">
            <RadioButton Content="浅色" IsChecked="{Binding IsLightTheme}" />
            <RadioButton Content="深色" IsChecked="{Binding IsDarkTheme}" />
            <RadioButton Content="跟随系统" IsChecked="{Binding IsSystemTheme}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="窗口位置" />
          <StackPanel Orientation="Horizontal" Spacing="12">
            <RadioButton Content="跟随光标" IsChecked="{Binding IsFollowCaret}" />
            <RadioButton Content="跟随鼠标" IsChecked="{Binding IsFollowMouse}" />
            <RadioButton Content="屏幕居中" IsChecked="{Binding IsScreenCenter}" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="历史记录" />
          <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
            <TextBlock Text="上限" Width="80" />
            <Slider Minimum="50" Maximum="2000" Value="{Binding HistoryLimit}" Width="220" />
            <TextBlock Text="{Binding HistoryLimit}" Width="60" />
          </StackPanel>
          <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
            <TextBlock Text="最大高度" Width="80" />
            <Slider Minimum="60" Maximum="200" Value="{Binding ClipboardItemMaxHeight}" Width="220" />
            <TextBlock Text="{Binding ClipboardItemMaxHeight}" Width="60" />
          </StackPanel>
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="启动与权限" />
          <CheckBox Content="开机自启" IsChecked="{Binding IsAutoStartEnabled}" />
          <CheckBox Content="静默启动" IsChecked="{Binding IsSilentStart}" />
          <CheckBox Content="始终以管理员身份运行" IsChecked="{Binding IsAlwaysRunAsAdmin}" />
          <TextBlock Text="{Binding AdminStatusText}" Foreground="{DynamicResource ClipMateMutedTextBrush}" />
          <TextBlock Text="{Binding AutoStartMethodText}" Foreground="{DynamicResource ClipMateMutedTextBrush}" />
          <Button Content="以管理员权限重启" Command="{Binding RestartAsAdminCommand}" />
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="日志" />
          <ComboBox
            ItemsSource="{Binding LogLevels}"
            SelectedItem="{Binding SelectedLogLevelOption}">
            <ComboBox.ItemTemplate>
              <DataTemplate>
                <TextBlock Text="{Binding DisplayName}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
        </StackPanel>
      </Border>

      <Border Padding="12" Background="{DynamicResource ClipMateSurfaceBrush}" CornerRadius="8">
        <StackPanel Spacing="8">
          <TextBlock FontWeight="SemiBold" Text="版本" />
          <TextBlock Text="{Binding Version}" Foreground="{DynamicResource ClipMateMutedTextBrush}" />
        </StackPanel>
      </Border>

      <Button Classes="secondary" Content="关闭" HorizontalAlignment="Right" Command="{Binding CloseCommand}" />
    </StackPanel>
  </ScrollViewer>
</Window>
