# 应用关键用户路径回归清单（5.4）

本清单用于在分层重构后回归验证 ClipMate 的关键用户路径（监听、搜索、收藏、粘贴、无焦点）。

## 先决条件

- 建议使用 Windows 环境运行（WPF + 平台适配器）。
- 若需要粘贴到管理员窗口：以管理员身份运行 ClipMate 再验证。

## 1) 启动与托盘

1. 启动应用
2. 期望：
   - 托盘图标可见
   - 主窗口默认不抢占焦点（无焦点显示策略生效）

## 2) 剪贴板监听 → 入库 → 列表更新

1. 在任意程序复制文本/图片/文件列表
2. 调出 ClipMate
3. 期望：
   - 列表新增对应条目
   - 重复复制相同内容时不会无限新增（去重策略生效）

## 3) 搜索过滤

1. 在列表中输入搜索关键字（键盘输入/搜索框输入）
2. 期望：
   - 过滤结果实时刷新
   - 清空搜索后恢复全部

## 4) 收藏与收藏过滤

1. 对一条条目执行收藏/取消收藏
2. 切换“仅收藏”过滤
3. 期望：
   - 收藏状态持久化（重启后仍存在）
   - 过滤显示正确

## 5) 选择条目 → 写剪贴板 → 触发粘贴

1. 打开一个可输入的目标窗口（例如记事本）
2. 调出 ClipMate，选择条目并触发粘贴（点击/回车）
3. 期望：
   - 目标窗口收到粘贴内容
   - ClipMate 自动关闭
   - 非收藏且非第一条的被粘贴项按既有逻辑移除/更新（若有该行为）

## 6) 无焦点行为

1. 让任意应用保持前台焦点
2. 调出 ClipMate，不点击搜索框时用上下键/回车操作
3. 期望：
   - 前台应用焦点不被抢走
   - ClipMate 仍能完成选择与粘贴

